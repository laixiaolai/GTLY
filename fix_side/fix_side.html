<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>固定边栏</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
	*{padding: 0;margin: 0;border: none;}
	.side{width:33%;float:right;background:#f787dd;height:1500px;}
</style>

</head>
<body>
    <div style="width:100%;">
    	<div id="J_bdMain" class="main" style="width:67%;float:left;background:#ccc;height:2500px;"><div style="background:#bbb;height:500px;"></div><div style="background:#aaa;height:500px;"></div><div style="background:#999;height:500px;"></div><div style="background:#888;height:500px;"></div><div style="background:#777;height:500px;"></div></div>
    	<div id="J_bdSide" class="side" style=""><div style="background:#0ff; height:700px;"></div></div>
    	<div style="clear:both;"></div>
    </div>
    <script type="text/javascript">
	var $=function(id){
		return document.getElementById(id);
	}

	var addEvent=function(obj,event,fn){
		if(obj.addEventListener){
			obj.addEventListener(event,fn,false);
		}
		else if(obj.attachEvent){
			obj.attachEvent('on'+event,fn);
		}
	}

	var domSider=$('J_bdSide');
	
	var scrollEvent=function(){
		
		var sideHeight=domSider.offsetHeight;
		var screenHeight=document.documentElement.clientHeight||document.body.clientHeight;
		var scrollHeight=document.documentElement.scrollTop||document.body.scrollTop;
		console.log(scrollHeight);
		if(scrollHeight+screenHeight>sideHeight){
			var sideTop=sideHeight-screenHeight;
			domSider.style.cssText='position:fixed;right:0px;top:'+(-sideTop)+'px';
			
		}
		else{
			domSider.style.position='static';
		}
	}

	addEvent(window,'scroll',scrollEvent);
	addEvent(window,'resize',scrollEvent);

	


</script>
</body>
</html>